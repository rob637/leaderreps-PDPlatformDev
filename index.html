<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LeaderReps PDP</title>
  </head>
  <body style="min-height:100vh">
    <div id="root"></div>
    <!-- Vite entry -->
    <script type="module" src="/src/main.jsx"></script>

    <!-- DEBUG OVERLAY: shows JS errors and any 401s on screen -->
    <script>
      (function () {
        const show = (msg) => {
          const pre = document.createElement('pre');
          pre.style.cssText =
            'position:fixed;inset:0;z-index:99999;background:#111;color:#eee;padding:16px;overflow:auto;font:13px/1.4 monospace';
          pre.textContent = msg;
          document.body.appendChild(pre);
        };
        window.addEventListener('error', e => {
          show('JS Error: ' + e.message + '\n' + (e.error && e.error.stack || ''));
        });
        window.addEventListener('unhandledrejection', e => {
          show('Unhandled Promise Rejection: ' + (e.reason && (e.reason.stack || e.reason.message) || e.reason));
        });
        const f = window.fetch; window.fetch = async (...a) => {
          const r = await f(...a);
          if (r.status === 401) show('401 from: ' + (typeof a[0] === 'string' ? a[0] : a[0].url));
          return r;
        };
        const o = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(m,u){
          this.addEventListener('load',function(){ if(this.status===401) show('XHR 401 from: ' + u); });
          return o.apply(this,arguments);
        };
      })();
    </script>
  </body>
</html>
